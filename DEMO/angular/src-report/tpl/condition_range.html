<!-- 范围 -->
<div class="condition_div">
	<li>
	    <div class="item-content item-relative">
	        <label><span tkey="skidding_range"></span>:</label>
	        <div class="item-input">
	          <!--relative-value 表示 一个输入框 对应 一个 右侧划入的列表-->
	          <input type="text" placeholder="请选择存储统计范围" placeholder-key="range_desc" class="btn-panel relative-value" data-rel="panel-range" readonly="" data-value="storage3" value="">
	        </div>
	    </div>
	</li>
</div>
<!-- panel 范围 -->
<div class="panel panel-right panel-cover" id='panel-range'>
  <header>
    <a href="#" class="close-panel back"></a>  
    <span tkey="range"></span>
    <a href="#" class="close-panel confirm confirm_3" tkey="sure"></a>
  </header>

  <!-- Click on link with "close-panel" class will close panel -->
  <div class="list-block">
    <p class="small" tkey="range_desc"></p>
    <ul>
      <!-- Single chekbox item -->
      <li>
        <label class="lb" for="range0">
        <span tkey="positive"></span>
        <span class="checkbox">
          <span class="input-checkbox">
            <input type="checkbox" id="range0" name="range" value="positive" data-label="正"/>
            <span class="inner"></span>
          </span>
        </span>
        </label>
      </li>
      <li><label class="lb" for="range1">
        <span>0</span>
        <span class="checkbox">
          <span class="input-checkbox">
            <input type="checkbox" name="range" id="range1" value="zero" data-label="0" />
            <span class="inner"></span>
          </span>
        </span>
        </label>
      </li>
      <li>
        <label class="lb" for="range2">
        <span tkey="negative"></span> 
        <span class="checkbox">
          <span class="input-checkbox">
            <input type="checkbox" name="range" id="range2" value="negative" data-label="负" />
            <span class="inner"></span>
          </span>
        </span>
        </label>
      </li>
      <li>
        <span tkey="customize"></span>
        <span class="checkbox switch">
          <div class="item-input">
            <label class="label-switch">
              <input type="checkbox" value="自定义" data-label="自定义" name="customize">
              <div class="checkbox"></div>
            </label>
          </div>
        </span>
      </li>
      <div class="range">
        <input class="min_count" disabled type="number" name="min_count" /><span>-</span><input class="max_count" disabled type="number" name="max_count" />
      </div>
    </ul>
  </div>
</div>
<script>
	jQuery(document).ready(function($){
		$('.condition_div li').appendTo($('#condition_ul'));

	    // if (langs.indexOf(langCode) != -1){
	    //     $.getJSON('assets/lang/'+langCode+'.json', {},translate1);
	    // }else{
	    //     $.getJSON('assets/lang/cn.json', translate1);
	    // }
	    
		  // 范围条件从缓存获取
      var filter_range = form_id + '_filter_range';
      var count_range = form_id + '_count_range';
      var range_checked = form_id + '_range_checked';
      var max_count = form_id + '_max_count';
      var min_count = form_id + '_min_count';
	    if(!!localStorage[filter_range]){
	        $('.filter_range').html(localStorage[filter_range]);
	        $('input[data-value="storage3"]').val(localStorage[filter_range]);

	        var count_range_arr = localStorage[count_range].split(',');
	        if(localStorage[range_checked] == "false"){
	            for(var i=0;i<count_range_arr.length;i++){
	                // $('#panel-store3 p.all input[type=checkbox]').prop('checked',false);
	                $('#panel-range ul li .input-checkbox input[value='+count_range_arr[i]+']').click();
	                // $('#panel-range ul li .input-checkbox input[value='+form1_count_range[i]+']').prop('checked',true);
	            }
	        }else{
	            $('input[name=customize]')[0].checked = true;
	            $('input[name=customize]').change();
	            $('input[name=max_count]').val(localStorage[max_count]);
	            $('input[name=min_count]').val(localStorage[min_count]);
	            // $('#panel-range .close-panel.confirm_3').click();
	        }
	    }else{
	        $('#panel-range ul li:first-child .input-checkbox input').click();
	        $('#panel-range ul li').eq(2).find('.input-checkbox input').click();
	    }
	    // $('#panel-range .close-panel.confirm_3').click();
	    if(!sessionStorage.getItem('range1')){
	        $('input[data-value="storage3"]').val('正,负');
	        sessionStorage.setItem('range1','正,负');
	        $('.filter_range').html('正,负');
	    }else{
	        $('input[data-value="storage3"]').val(sessionStorage.getItem('range1'));
	        // sessionStorage.setItem('range1',sessionStorage.getItem('range1'));
	        $('.filter_range').html(sessionStorage.getItem('range1'));
	    }
	})
</script>