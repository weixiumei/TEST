<!--  head：页面的</head>之前代码 -->
<!DOCTYPE html>
<html ng-app="NtSF" ng-cloak="" class="ng-cloak">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <!-- common.css不可变 -->
    <link rel="stylesheet" type="text/css" href="assets/lib/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <!-- ** 注：根据项目的实际情况 添加或删除引入的css文件 ** -->
    <!--
    <link rel="stylesheet" type="text/css" href="assets/css/autocomplete.css">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/datatables.css">
    <link rel="stylesheet" type="text/css" href="assets/css/datarangepicker.css">
    <link rel="stylesheet" type="text/css" href="assets/css/ng-table.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    -->
    
</head>
<body>
<body ng-controller="getTable">
    <div class="div_class" ng-style="{height:div_class_height.height}">
        <!-- <div> -->
            <!-- 店铺选择：<select 
                class="select_ele" 
                ng-model="search_data.shop_code" 
                ng-options="m.shop_code as m.shop_name for m in shop_list">
            </select> -->
        <!-- </div> -->
        <div class="condition">
            <p>RFM分析
                <img class="rfm_help_img" ng-show="!rfm_help_show" ng-mouseover="rfm_help_show=true" src="assets/images/help_off.png">
                <img class="rfm_help_img" ng-show="rfm_help_show" ng-mouseleave="rfm_help_show=false" src="assets/images/help_on.png">
                <div class="help_div rfm_help_div" ng-class="{hidden:!rfm_help_show}">
                    <div>R：会员最近一次的消费时间</div>
                    <div>F：在最近一段时间内，会员的消费次数</div>
                    <div>M：在最近一段时间内，购买的会员数、总金额、平均金额。</div>
                </div>
            </p>
            <label ng-repeat="val in shop_list track by $index">
                <input 
                    type="radio" 
                    ng-value="val.shop_code" 
                    ng-model="search_data.shop_code">
                    {{val.shop_name}}
            </label>
            <input type="text" placeHolder="指定店仓(编号)" ng-disabled="search_data.shop_code=='all'" ng-model="shop_code_input" class="shop_code_input"/>
            
            <label>截止到
                 <input 
                    type="date" 
                    ng-model="end_date"/>
            </label>

            <label>之前 
                <select 
                    class="select_ele" 
                    ng-model="search_data.days" 
                    ng-options="m.id as m.name for m in year_day_list">
                    <!-- <option ng-value="m.name"></option> -->
                </select>
            </label>
            
            <label>统计 
                <select 
                    class="select_ele" 
                    ng-model="search_data.value_type" 
                    ng-options="m.id as m.name for m in type_list">
                </select>
            </label>
            <button ng-click="search()" ng-disabled="button_disable_class=='button_disable'" ng-class="button_disable_class">{{button_disable_class=='button_disable'?'搜索...':'搜索'}}</button>
            <!-- <label ng-repeat="val in type_list track by $index">
                <input 
                    type="radio" 
                    ng-value="val.id" 
                    ng-model="search_data.value_type" 
                    ng-change="search()">
                    {{val.name}}
            </label> -->
        </div>
        <div class="table_div">
            <table cellspacing="0">
                <tr class="color_head">
                    <th>{{list.header.name}}</th>
                    <th ng-repeat="item in list.header.value">{{item}}</th>
                </tr>
                <tr ng-repeat="tr_item in list.body" ng-init="outerIndex = $index">
                    <td class="color_head">{{tr_item.name}}</td>
                    <td ng-repeat="td_item in tr_item.value track by $index" ng-init="innerIndex = $index" ng-class="{'max':td_item.max==td_item.num && td_item.max!=0 && outerIndex != tr_item.value.length}">
                        <p class="number">{{td_item.num}}{{list.uom_name}}</p>
                        <p class="rate">{{td_item.rate}}%</p>
                    </td>
                </tr>
            </table>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
    <!-- script：引入 js 文件 -->
        <!-- ** 注：根据项目的实际情况 添加或删除引入的js文件 ** -->

	<script src="assets/lib/jquery.min.js"></script>
	<script src="assets/lib/bootstrap.min.js"></script>
	 
	<script src="assets/lib/echarts.min.js"></script>
	<script src="assets/lib/angular-1.4.8.min.js"></script>
	<script src="assets/lib/angular-resource.js"></script>
	<script src="assets/lib/angular-route.js"></script>
	<script src="assets/api/api.config.js"></script>
	<script src="assets/api/api.js"></script>
	
    <script type="text/javascript">
    	// piwik
        document.title = '申请试用';
    </script>

  </body>
</html>

    <script type="text/javascript">
    	// piwik
        // document.title = '首页';
    </script>

<!-- bottom：加载loading和piwik -->
    <script>
    // var site_id = getUrlParameter('site_id');
    // var _paq = _paq || [];

    // _paq.push(['enableLinkTracking', true]);
    // (function() {
    //     try {
    //         // var site_id = false;
            
    //         if(site_id == '' || site_id == false){
    //             return
    //         }
    //         var u = "//a.nexttao.com";
            
    //         if(u == "" || u == "false" || u == false){
    //             return
    //         }
    //         _paq.push(['setTrackerUrl', u+'piwik.php']);
    //         _paq.push(['setSiteId', site_id]);
    //         _paq.push(['setDocumentTitle', document.title]);
           
    //         _paq.push(['trackPageView']);
    //         var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    //         g.type='text/javascript'; 
    //         g.async=true; 
    //         g.defer=true;
    //         g.src=u+'piwik.js';
    //         s.parentNode.insertBefore(g,s);
    //     }catch (e){
    //         console.log(e);
    //     }
    // })();
  </script>

  <div id="bg"></div>

  <div class="data_content" style="display: none">
    <div class="loading"></div>
    <!-- loading -->
    <div class="loader loader--style1" title="0">
      <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
       width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
      <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
        s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
        c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
      <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
        C22.32,8.481,24.301,9.057,26.013,10.047z">
        <animateTransform attributeType="xml"
          attributeName="transform"
          type="rotate"
          from="0 20 20"
          to="360 20 20"
          dur="0.5s"
          repeatCount="indefinite"/>
        </path>
      </svg>
      <p>加载中...</p>
    </div>  
  </div>

  </body>
</html>
